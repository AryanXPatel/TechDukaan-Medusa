# TechDukaan Medusa Production Environment Template
# 
# SECURITY WARNING: Never commit this file with real values to version control
# Copy this template to .env.production and populate with your actual values
#
# Generate secure secrets using: openssl rand -hex 32

# =====================================================================
# CORE CONFIGURATION
# =====================================================================
NODE_ENV=production
PORT=9000

# =====================================================================
# DATABASE CONFIGURATION
# =====================================================================
# Replace with your actual Azure PostgreSQL connection string
# Format: postgres://username:password@server:5432/database?ssl=true
DATABASE_URL=postgres://YOUR_USERNAME:YOUR_PASSWORD@YOUR_SERVER.postgres.database.azure.com:5432/YOUR_DATABASE?ssl=true

# =====================================================================
# REDIS CONFIGURATION
# =====================================================================
# For Docker Compose deployment, use service name
REDIS_URL=redis://redis:6379

# =====================================================================
# SECURITY SECRETS - GENERATE YOUR OWN
# =====================================================================
# Generate with: openssl rand -hex 32
JWT_SECRET=CHANGE_ME_TO_32_HEX_CHARS

# Generate with: openssl rand -hex 16  
COOKIE_SECRET=CHANGE_ME_TO_16_HEX_CHARS

# CRITICAL: Must match COOKIE_SECRET for admin interface fix
SESSION_SECRET=CHANGE_ME_TO_SAME_VALUE_AS_COOKIE_SECRET

# =====================================================================
# CORS CONFIGURATION
# =====================================================================
# Update with your actual domains
STORE_CORS=https://yourdomain.com,http://localhost:3000
ADMIN_CORS=https://admin.yourdomain.com,http://localhost:7001
AUTH_CORS=https://yourdomain.com,http://localhost:3000
CORS_CREDENTIALS=true

# =====================================================================
# AZURE BLOB STORAGE
# =====================================================================
STORAGE_PROVIDER=azure
AZURE_STORAGE_ACCOUNT_NAME=YOUR_STORAGE_ACCOUNT_NAME
AZURE_STORAGE_ACCOUNT_KEY=YOUR_AZURE_STORAGE_KEY_FROM_PORTAL
AZURE_STORAGE_CONTAINER_NAME=medusa-uploads

# =====================================================================
# MEILISEARCH CONFIGURATION
# =====================================================================
# For Docker Compose deployment, use service name
MEILI_HTTP_ADDR=meilisearch:7700

# Generate with: openssl rand -hex 16
MEILI_MASTER_KEY=CHANGE_ME_TO_16_HEX_CHARS

# =====================================================================
# WORKER CONFIGURATION
# =====================================================================
WORKER_MODE=shared

# =====================================================================
# ADMIN USER CREDENTIALS
# =====================================================================
ADMIN_EMAIL=YOUR_ADMIN_EMAIL@yourdomain.com
ADMIN_PASSWORD=YOUR_SECURE_ADMIN_PASSWORD

# =====================================================================
# EXTERNAL ACCESS CONFIGURATION
# =====================================================================
# Set to your VM's external IP or domain
MEDUSA_ADMIN_BACKEND_URL=http://YOUR_VM_IP:9000

# =====================================================================
# SECURITY CHECKLIST:
# =====================================================================
# ✓ All placeholder values replaced with actual values
# ✓ SESSION_SECRET matches COOKIE_SECRET exactly
# ✓ All secrets are cryptographically secure random values  
# ✓ Database credentials are correct
# ✓ External IP/domain is correct
# ✓ This file is NOT committed to version control
